######
#
# Makefile for xatsopt
#
######
#
# Author: Hongwei Xi
# Start time: August, 2016
# Authoremail: gmhwxi@gmail.com
#
######

PATSCC=$(PATSHOME)/bin/patscc
PATSOPT=$(PATSHOME)/bin/patsopt

######

all::

######

CODEGEN=CODEGEN
COMPILE=COMPILE

######
#
compile:: ; \
$(PATSOPT) -DATS COMPILE -o \
  $(COMPILE)/lexing_print_dats.c -d lexing_print.dats
#
######
#
codegen:: ; \
$(PATSOPT) -DATS FPRINT_TNODE --codegen-2 -o \
  $(CODEGEN)/lexing_fprint_tnode_impl.hats -d lexing_print.dats
#
######

RMF=rm -f

######

cleanall:: ; $(RMF) CODEGEN/*.?ats
cleanall:: ; $(RMF) COMPILE/*_?ats.c

###### end of [Makefile] ######
